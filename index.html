<!DOCTYPE html>
<html>
    <head>
        <meta charset="UTF-8" />
        <meta name="viewport" content="width=device-width, minimum-scale=1.0" />
        <title>The Rum Diary</title>
        <!-- START Preconnect -->

        <!-- END Preconnect -->

        <!-- START Script ASYNC -->

        <!-- END Script ASYNC -->

        <!-- START CSS that includes @import -->

        <!-- END CSS that includes @import -->

        <!-- START Sync JS and CSS - src and inline -->
        <!-- @TODO: check coverage-->
        <link
            rel="stylesheet"
            href="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/css/bootstrap.min.css"
            integrity="sha384-ggOyR0iXCbMQv3Xipma34MD+dH/1fQ784/j6cY/iJTQUOhcWr7x9JvoRxT2MZw1T"
            crossorigin="anonymous"
        />

        <!-- @TODO: do not load in main thread-->
        <link rel="stylesheet" href="http://slowfil.es/file?type=css&delay=1000&sync-in-head" />

        <!-- @TODO: split in critical and non critical-->
        <link rel="stylesheet" href="dist/styles/index.css" />

        <!-- @TODO: use best practice redemanded by google-->
        <link href="https://fonts.googleapis.com/css2?family=Architects+Daughter&display=swap" rel="stylesheet" />

        <!-- @TODO: defer to load after user interaction -->
        <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/swiper@8/swiper-bundle.min.css" />

        <!-- @TODO: check use, use vanilla and remove -->
        <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.2.1/jquery.min.js"></script>


        <script src="https://slowfil.es/file?type=js&delay=2000"></script>

        <!-- @TODO: load minified version, defer, and load only on demand -->
        <script src="https://cdn.jsdelivr.net/npm/vue/dist/vue.js"></script>
        <script src="https://unpkg.com/vuex"></script>
        <script src="https://cdn.jsdelivr.net/npm/swiper@8/swiper-bundle.min.js"></script>

        <!-- @TODO: check use and substitute with browser API-->
        <script src="https://cdn.jsdelivr.net/npm/vanilla-lazyload@17.8.3/dist/lazyload.min.js"></script>

        <!-- @TODO: remove from main thered -->
        <script>
          // Adobe Target pre-hiding code snippet
          (function (win, doc, style, timeout) {
              var STYLE_ID = 'at-body-style';

              function getParent() {
                  return doc.getElementsByTagName('head')[0];
              }

              function addStyle(parent, id, def) {
                  if (!parent) {
                      return;
                  }

                  var style = doc.createElement('style');
                  style.id = id;
                  style.innerHTML = def;
                  parent.appendChild(style);
              }

              function removeStyle(parent, id) {
                  if (!parent) {
                      return;
                  }

                  var style = doc.getElementById(id);

                  if (!style) {
                      return;
                  }

                  parent.removeChild(style);
              }

              addStyle(getParent(), STYLE_ID, style);
              setTimeout(function () {
                  removeStyle(getParent(), STYLE_ID);
              }, timeout);
          })(window, document, 'body {opacity: 0 !important}', 3000);
      </script>

      <!-- @TODO: remove from main thread -->
      <script>
          // advertisment mock
          const initAd = () => {
              const adSpace = document.querySelector('.main__advertising');
              const gif =
                  '<div style="width:400px;max-width:100%;"><div style="height:0;padding-bottom:52.4%;position:relative;"><iframe width="500" height="262" style="position:absolute;top:0;left:0;width:100%;height:100%;" frameBorder="0" src="https://imgflip.com/embed/6wy03z"></iframe></div></div>';
              setTimeout(() => (adSpace.innerHTML = gif), 3000);
          };
          // Slow JS
          function wait(ms) {
              var start = Date.now(),
                  now = start;
              while (now - start < ms) {
                  now = Date.now();
              }
          }

          // async CSS
          // @TODO: avoid rendering markup on the client that may contain references to document subresources using JavaScript.
          function loadMobileCSS() {
              $('head').append(`<link rel="stylesheet" type="text/css" href="styles/mobile.css">`);
          }

          wait(2000);
          window.addEventListener('load', () => {
              initAd();
              loadMobileCSS();
          });
      </script>
        <!-- END Sync JS and CSS - src and inline -->

        <!-- START preload -->
        <link rel="preload" href="fonts/alegreya-v29-latin-regular.woff2" as="font" type="font/woff2" crossorigin />
        <link rel="preload" href="fonts/alegreya-v29-latin-900.woff2" as="font" type="font/woff2" crossorigin />
        <!-- END preload -->

        <!-- START script defer -->

        <!-- END script defer -->

        <!-- START prefetch / prerender -->

        <!-- END prefetch / prerender -->

        <!-- START SEO and meta tags -->
        <meta http-equiv="Content-Security-Policy" content="upgrade-insecure-requests" />
        <link rel="shortcut icon" href="logo.svg" type="image/x-icon">

    </head>
    <body>
        <div id="cookie-vue">
            <cookie-layer class="cookieLayer__base" v-show="displayCookieBox" v-on:accept="acceptCookies()" />
        </div>
        <header class="header__base">
            <div class="header__content">
                <a class="header__logo" href="#">
                    <img class="header__image" src="./logo.svg" alt="The Rum Diary" />
                </a>
                <nav class="header__navigation">
                    <ul class="navigation__list">
                        <li class="navigation__item">
                            <a class="navigation__link" href="#"> Articles </a>
                        </li>
                        <li class="navigation__item">
                            <a class="navigation__link" href="#"> About </a>
                        </li>
                        <li class="navigation__item">
                            <a class="navigation__link" href="#"> Contact </a>
                        </li>
                    </ul>
                </nav>
            </div>
        </header>

        <main class="main__base">
            <div class="main__advertising"></div>

            <h1 class="main__title visually-hidden" id="page-title">The Rum Diary Homepage</h1>

            <div class="main__content" role="main">
                <div class="main__news main__section">
                    <marquee
                        width="100%"
                        direction="left"
                        style="line-height: 30px; background-color: darkred; color: red"
                    ></marquee>
                </div>

                <section class="main__hero main__section">
                    <a
                        class="hero__carousel div1 swiper"
                        href="fake-link.html"
                        aria-label="Local restaurants finally optimising time to first bite"
                    >
                        <!-- Additional required wrapper -->
                        <div class="swiper-wrapper">
                            <!-- Slides -->
                            <div class="swiper-slide lazy">
                              <!-- @TODO: adjust quality, format and size following unsplash API -->
                              <!-- @TODO: preconnect with unsplash-->
                                <img
                                    src="https://images.unsplash.com/flagged/photo-1579632993381-847f6a71a3cd?ixlib=rb-1.2.1&ixid=MnwxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8&fm=png&fit=crop&w=1170&q=100"
                                    alt="Person taking a bite of food"
                                />
                            </div>
                            <!-- @TODO: move images from css background to HTML -->
                            <!-- @TODO: if creating performance issue use js to prefetch and cache images -->
                            <div class="swiper-slide"></div>
                            <div class="swiper-slide"></div>
                        </div>
                        <div class="swiper-text">Local restaurants finally optimising time to first bite</div>
                    </a>
                    <!-- @TODO: remove from main thread and defer -->
                    <script src="script/carousel.js"></script>

                    <a
                        class="hero__teaser div2"
                        href="fake-link.html"
                        aria-label="Top 10 waterfalls to analyse this week"
                    >
                    <!-- @TODO: adjust quality, format and size following unsplash API -->
                        <img
                            src="https://media2.giphy.com/media/3oEjI6SIIHBdRxXI40/200.gif"
                            data-src="https://images.unsplash.com/photo-1432405972618-c60b0225b8f9?ixlib=rb-1.2.1&ixid=MnwxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8&fm=png&fit=crop&h=400&q=100"
                            class="hero__img lazy"
                            alt="Waterfall in the woods"
                        />
                        <div class="hero__teaserText">Top 10 waterfalls to analyse this week</div>
                    </a>
                    <a
                        class="hero__teaser div3"
                        href="fake-link.html"
                        aria-label="Bouncing rates increased signifincantly last week"
                    >
                    <!-- @TODO: adjust quality, format and size following unsplash API -->
                        <img
                            src="https://media2.giphy.com/media/3oEjI6SIIHBdRxXI40/200.gif"
                            data-src="https://images.unsplash.com/photo-1646271912756-44f11896cfea?ixlib=rb-4.0.3&ixid=MnwxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8&fm=png&fit=crop&w=1180&q=80"
                            class="hero__img lazy"
                            alt="Child jumping on a trampoline"
                        />
                        <div class="hero__teaserText">Bouncing rates increased signifincantly last week</div>
                    </a>
                </section>

                <section class="main__teasers main__section">
                    <h2 class="visually-hidden">News</h2>
                    <ul class="teaser__list">
                        <li class="teaser__item">
                            <article class="teaser__base">
                                <h3 class="teaser__title"><a href="/mock-link-to-article.html">First Party</a></h3>
                                <!-- @TODO: adjust quality, format and size following unsplash API -->
                                <img
                                    src="https://images.unsplash.com/photo-1631857455684-a54a2f03665f?ixlib=rb-1.2.1&ixid=MnwxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8&auto=format&fit=crop&w=1170&q=100"
                                    class="teaser__image"
                                    alt="Many cakes on a table"
                                />
                                <p class="teaser__text"></p>
                            </article>
                        </li>
                        <li class="teaser__item">
                            <article class="teaser__base">
                                <h3 class="teaser__title"><a href="/mock-link-to-article.html">Second Party</a></h3>
                                <!-- @TODO: adjust quality, format and size following unsplash API -->
                                <img
                                    src="https://images.unsplash.com/photo-1519671482749-fd09be7ccebf?ixlib=rb-1.2.1&ixid=MnwxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8&auto=format&fit=crop&w=1170&q=100"
                                    class="teaser__image"
                                    alt="People toasting with wine glasses"
                                />
                                <p class="teaser__text"></p>
                            </article>
                        </li>
                        <li class="teaser__item">
                            <article class="teaser__base">
                                <h3 class="teaser__title"><a href="/mock-link-to-article.html">Third Party</a></h3>
                                <!-- @TODO: adjust quality, format and size following unsplash API -->
                                <img
                                    src="https://images.unsplash.com/photo-1496024840928-4c417adf211d?ixlib=rb-1.2.1&ixid=MnwxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8&auto=format&fit=crop&w=1170&q=100"
                                    class="teaser__image"
                                    alt="People throwing color powder in a disco club"
                                />
                                <p class="teaser__text"></p>
                            </article>
                        </li>
                    </ul>
                </section>

                <section class="main__weather main__section">
                    <h2 class="visually-hidden">Weather forecast</h2>
                    <a
                        class="weatherwidget-io"
                        href="https://forecast7.com/en/48d1411d58/munich/"
                        data-label_1="MUNICH"
                        data-label_2="WEATHER"
                        data-theme="original"
                        >MUNICH WEATHER</a
                    >
                    <script>
                        !(function (d, s, id) {
                            var js,
                                fjs = d.getElementsByTagName(s)[0];
                            if (!d.getElementById(id)) {
                                js = d.createElement(s);
                                js.id = id;
                                js.src = 'https://blackhole.webpagetest.org/';
                                fjs.parentNode.insertBefore(js, fjs);
                            }
                        })(document, 'script', 'weatherwidget-io-js');
                    </script>
                </section>

                <section class="main__video main__section">
                    <h2 class="visually-hidden">Video and feedback form</h2>
                    <!-- @TODO: implement iframe best practices -->
                    <!-- @TODO: adjust quality, format and size following vimeo API -->
                    <iframe
                        src="https://player.vimeo.com/video/44265326?h=1e8b36c00b&autoplay=1&loop=1&byline=0&muted=1&controls=0 "
                        width="640"
                        height="360"
                        frameborder="0"
                        allow="autoplay; fullscreen; picture-in-picture"
                        allowfullscreen
                    ></iframe>
                    <form class="form__base">
                        <div class="form__intro">
                            Something about lighthouses, describing point of the video we are putting here to prove how
                            awesome they really are, no.
                        </div>
                        <div class="from__control">
                            <label for="name" class="form__label">Name:</label>
                            <input id="name" type="text" autocomplete="name" />
                        </div>
                        <div class="from__control">
                            <label for="text" class="form__label"
                                >Please share with us why do you think lighthouses are awesome: </label
                            ><br />
                            <textarea id="text"></textarea>
                        </div>
                        <button
                            class="from__button"
                            type="submit"
                            onclick="alert('Submitting using way too much JavaScript...')"
                        >
                            Submit
                        </button>
                    </form>
                </section>
            </div>
        </main>

        <aside class="disclaimer__base">
            <p class="disclaimer__text">
                This site is made for the purpose of web performance and accessibility testing challeng and it is full
                of bad practices on purpose.
            </p>
        </aside>

        <footer class="footer__base">
            <div class="footer__content">
                <ul class="footer__menu">
                    <li><a href="fake-link.html" class="footer__link">About Us</a></li>
                    <li><a href="https://www.netcentric.biz/legal/imprint.html" class="footer__link">Imprint</a></li>
                    <li><a href="https://www.netcentric.biz/legal/privacy.html" class="footer__link">Privacy</a></li>
                </ul>
                <div class="footer__sponsor">
                    Powered by <a href="https://www.netcentric.biz/" class="footer__link">Cognizant Netcentric</a>
                </div>
            </div>
        </footer>
        <script src="script/app.js"></script>
        <script src="script/a11y.js"></script>
    </body>
</html>
